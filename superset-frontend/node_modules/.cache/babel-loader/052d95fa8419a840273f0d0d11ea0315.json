{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";var _jsxFileName = \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Typography, Dropdown, Menu } from 'src/common/components';\nimport React from 'react';\nimport { CheckOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { styled, supersetTheme, t } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { Tooltip } from 'src/components/Tooltip';\nimport FiltersHeader from './FiltersHeader';\nimport { getFilterBarTestId } from '..';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\nconst TitleText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst IconsBlock = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  & > *,\n  & > button.superset-button {\n    ${({ theme }) => `margin-left: ${theme.gridUnit * 2}px`};\n  }\n`;\nconst FilterSetUnit = ({ editMode, setFilterSetName, onDelete, onEdit, filterSetName, dataMaskSelected, filterSet, isApplied, onRebuild }) => {var _filterSet$name, _filterSet$dataMask;\n  const menu = ___EmotionJSX(Menu, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 45, columnNumber: 19 } },\n  ___EmotionJSX(Menu.Item, { onClick: onEdit, __self: this, __source: { fileName: _jsxFileName, lineNumber: 46, columnNumber: 7 } }, t('Edit')),\n  ___EmotionJSX(Menu.Item, { onClick: onRebuild, __self: this, __source: { fileName: _jsxFileName, lineNumber: 47, columnNumber: 7 } },\n  ___EmotionJSX(Tooltip, { placement: \"right\", title: t('Remove invalid filters'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 48, columnNumber: 9 } },\n  t('Rebuild'))),\n\n\n  ___EmotionJSX(Menu.Item, { onClick: onDelete, danger: true, __self: this, __source: { fileName: _jsxFileName, lineNumber: 52, columnNumber: 7 } },\n  t('Delete')));\n\n\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(TitleText, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 57, columnNumber: 7 } },\n  ___EmotionJSX(Typography.Text, { strong: true, editable: {\n      editing: editMode,\n      icon: ___EmotionJSX(\"span\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 60, columnNumber: 19 } }),\n      onChange: setFilterSetName }, __self: this, __source: { fileName: _jsxFileName, lineNumber: 58, columnNumber: 9 } }, (_filterSet$name =\n\n  filterSet == null ? void 0 : filterSet.name) != null ? _filterSet$name : filterSetName),\n\n  ___EmotionJSX(IconsBlock, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 65, columnNumber: 9 } },\n  isApplied && ___EmotionJSX(CheckOutlined, { style: { color: supersetTheme.colors.success.base }, __self: this, __source: { fileName: _jsxFileName, lineNumber: 66, columnNumber: 26 } }),\n  onDelete && ___EmotionJSX(Dropdown, { overlay: menu, placement: \"bottomRight\", trigger: ['click'], __self: this, __source: { fileName: _jsxFileName, lineNumber: 67, columnNumber: 25 } },\n  ___EmotionJSX(HeaderButton, _extends({ onClick: (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    } }, getFilterBarTestId('filter-set-menu-button'), { buttonStyle: \"link\", buttonSize: \"xsmall\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 68, columnNumber: 15 } }),\n  ___EmotionJSX(EllipsisOutlined, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 72, columnNumber: 17 } }))))),\n\n\n\n\n  ___EmotionJSX(FiltersHeader, { filterSet: filterSet, dataMask: (_filterSet$dataMask = filterSet == null ? void 0 : filterSet.dataMask) != null ? _filterSet$dataMask : dataMaskSelected, __self: this, __source: { fileName: _jsxFileName, lineNumber: 77, columnNumber: 7 } }));\n\n};const _default =\nFilterSetUnit;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(HeaderButton, \"HeaderButton\", \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(TitleText, \"TitleText\", \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(IconsBlock, \"IconsBlock\", \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(FilterSetUnit, \"FilterSetUnit\", \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/Users/frankhe/projects/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx"],"names":[],"mappings":"4fAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,SAAS,UAAT,EAAqB,QAArB,EAA+B,IAA/B,QAA2C,uBAA3C;AACA,OAAO,KAAP,MAA0B,OAA1B;AAGA,SAAS,aAAT,EAAwB,gBAAxB,QAAgD,mBAAhD;AACA,SAA0B,MAA1B,EAAkC,aAAlC,EAAiD,CAAjD,QAA0D,mBAA1D;AACA,OAAO,MAAP,MAAmB,uBAAnB;AACA,SAAS,OAAT,QAAwB,wBAAxB;AACA,OAAO,aAAP,MAA0B,iBAA1B;AACA,SAAS,kBAAT,QAAmC,IAAnC,C;AAEA,MAAM,YAAY,GAAG,MAAM,CAAC,MAAD,CAAQ;;AAElC,CAFD;AAIA,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG;;;;AAI3B,CAJD;AAMA,MAAM,UAAU,GAAG,MAAM,CAAC,GAAG;;;;;;MAMvB,CAAC,EAAE,KAAF,EAAD,KAAe,gBAAgB,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;;AAE1D,CARD;AAsBA,MAAM,aAAa,GAA2B,CAAC,EAC7C,QAD6C,EAE7C,gBAF6C,EAG7C,QAH6C,EAI7C,MAJ6C,EAK7C,aAL6C,EAM7C,gBAN6C,EAO7C,SAP6C,EAQ7C,SAR6C,EAS7C,SAT6C,EAAD,KAUzC;AACH,QAAM,IAAI,GACR,cAAC,IAAD;AACE,gBAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAE,MAApB,yFAA6B,CAAC,CAAC,MAAD,CAA9B,CADF;AAEE,gBAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAE,SAApB;AACE,gBAAC,OAAD,IAAS,SAAS,EAAC,OAAnB,EAA2B,KAAK,EAAE,CAAC,CAAC,wBAAD,CAAnC;AACG,EAAA,CAAC,CAAC,SAAD,CADJ,CADF,CAFF;;;AAOE,gBAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAE,QAApB,EAA8B,MAAM,MAApC;AACG,EAAA,CAAC,CAAC,QAAD,CADJ,CAPF,CADF;;;AAcA,SACE;AACE,gBAAC,SAAD;AACE,gBAAC,UAAD,CAAY,IAAZ,IACE,MAAM,MADR,EAEE,QAAQ,EAAE;AACR,MAAA,OAAO,EAAE,QADD;AAER,MAAA,IAAI,EAAE,+GAFE;AAGR,MAAA,QAAQ,EAAE,gBAHF,EAFZ;;AAQG,EAAA,SARH,oBAQG,SAAS,CAAE,IARd,8BAQsB,aARtB,CADF;;AAWE,gBAAC,UAAD;AACG,EAAA,SAAS,IACR,cAAC,aAAD,IACE,KAAK,EAAE,EAAE,KAAK,EAAE,aAAa,CAAC,MAAd,CAAqB,OAArB,CAA6B,IAAtC,EADT,yFAFJ;AAMG,EAAA,QAAQ,IACP,cAAC,QAAD,IACE,OAAO,EAAE,IADX,EAEE,SAAS,EAAC,aAFZ,EAGE,OAAO,EAAE,CAAC,OAAD,CAHX;AAKE,gBAAC,YAAD,aACE,OAAO,EAAE,CAAA,CAAC,KAAG;AACX,MAAA,CAAC,CAAC,eAAF;AACA,MAAA,CAAC,CAAC,cAAF;AACD,KAJH,IAKM,kBAAkB,CAAC,wBAAD,CALxB,IAME,WAAW,EAAC,MANd,EAOE,UAAU,EAAC,QAPb;AASE,gBAAC,gBAAD,2FATF,CALF,CAPJ,CAXF,CADF;;;;;AAuCE,gBAAC,aAAD,IACE,SAAS,EAAE,SADb,EAEE,QAAQ,yBAAE,SAAF,oBAAE,SAAS,CAAE,QAAb,kCAAyB,gBAFnC,wFAvCF,CADF;;AA8CD,CAvED,C;AAyEe,a,CAAf,wB,iLAzGM,Y,8KAIA,S,2KAMA,U,4KAsBA,a","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Typography, Dropdown, Menu } from 'src/common/components';\nimport React, { FC } from 'react';\nimport { FilterSet } from 'src/dashboard/reducers/types';\nimport { DataMaskState } from 'src/dataMask/types';\nimport { CheckOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { HandlerFunction, styled, supersetTheme, t } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { Tooltip } from 'src/components/Tooltip';\nimport FiltersHeader from './FiltersHeader';\nimport { getFilterBarTestId } from '..';\n\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\n\nconst TitleText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst IconsBlock = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  & > *,\n  & > button.superset-button {\n    ${({ theme }) => `margin-left: ${theme.gridUnit * 2}px`};\n  }\n`;\n\nexport type FilterSetUnitProps = {\n  editMode?: boolean;\n  isApplied?: boolean;\n  filterSet?: FilterSet;\n  filterSetName?: string;\n  dataMaskSelected?: DataMaskState;\n  setFilterSetName?: (name: string) => void;\n  onDelete?: HandlerFunction;\n  onEdit?: HandlerFunction;\n  onRebuild?: HandlerFunction;\n};\n\nconst FilterSetUnit: FC<FilterSetUnitProps> = ({\n  editMode,\n  setFilterSetName,\n  onDelete,\n  onEdit,\n  filterSetName,\n  dataMaskSelected,\n  filterSet,\n  isApplied,\n  onRebuild,\n}) => {\n  const menu = (\n    <Menu>\n      <Menu.Item onClick={onEdit}>{t('Edit')}</Menu.Item>\n      <Menu.Item onClick={onRebuild}>\n        <Tooltip placement=\"right\" title={t('Remove invalid filters')}>\n          {t('Rebuild')}\n        </Tooltip>\n      </Menu.Item>\n      <Menu.Item onClick={onDelete} danger>\n        {t('Delete')}\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <>\n      <TitleText>\n        <Typography.Text\n          strong\n          editable={{\n            editing: editMode,\n            icon: <span />,\n            onChange: setFilterSetName,\n          }}\n        >\n          {filterSet?.name ?? filterSetName}\n        </Typography.Text>\n        <IconsBlock>\n          {isApplied && (\n            <CheckOutlined\n              style={{ color: supersetTheme.colors.success.base }}\n            />\n          )}\n          {onDelete && (\n            <Dropdown\n              overlay={menu}\n              placement=\"bottomRight\"\n              trigger={['click']}\n            >\n              <HeaderButton\n                onClick={e => {\n                  e.stopPropagation();\n                  e.preventDefault();\n                }}\n                {...getFilterBarTestId('filter-set-menu-button')}\n                buttonStyle=\"link\"\n                buttonSize=\"xsmall\"\n              >\n                <EllipsisOutlined />\n              </HeaderButton>\n            </Dropdown>\n          )}\n        </IconsBlock>\n      </TitleText>\n      <FiltersHeader\n        filterSet={filterSet}\n        dataMask={filterSet?.dataMask ?? dataMaskSelected}\n      />\n    </>\n  );\n};\n\nexport default FilterSetUnit;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}